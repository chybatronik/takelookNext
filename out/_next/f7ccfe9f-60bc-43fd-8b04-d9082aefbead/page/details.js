module.exports=__NEXT_REGISTER_PAGE("/details",function(){var e=webpackJsonp([3],{456:function(e,r,t){e.exports=t(457)},457:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});t.d(r,"DetailsConatiner",function(){return w});var n=t(40);var a=t.n(n);var i=t(0);var o=t.n(i);var s=t(92);var u=t(191);var l=t(71);var c=t(160);var p=t(162);var d=t(164);var f=t.n(d);var m=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};var h=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(r,t,n){t&&e(r.prototype,t);n&&e(r,n);return r}}();function v(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(a,i){try{var o=r[a](i);var s=o.value}catch(e){t(e);return}if(!o.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}function y(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function g(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!==typeof r&&"function"!==typeof r?e:r}function E(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}var b=l["k"].CheckableTag;var w=function(e){E(r,e);function r(){y(this,r);return g(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}h(r,[{key:"componentDidMount",value:function e(){window.scrollTo(0,0)}},{key:"renderLoader",value:function e(r){if(r.isError)return o.a.createElement(p["a"],{title:"Ant Design"},o.a.createElement(l["a"],{message:"Ошибка получения данных с сервера",type:"error"}));return o.a.createElement(p["a"],{title:"Ant Design"},o.a.createElement("div",{className:"spiner",key:"spiner"},o.a.createElement(l["i"],{size:"large"})))}},{key:"renderEpisodes",value:function e(){var r=this.props.episodes.episodes;var t=r[this.props.queryId];if(!t||t.isFetch||t.isError){if(t)return this.renderLoader(t);return this.renderLoader({isFetch:true})}var n=Object.keys(t).map(function(e){var r=t[e];return{name:r.season+"x"+r.number+" "+r.name,age:r.airdate,address:r.url,key:r.id}});var a=[{title:"Episode Name",dataIndex:"name",key:"name"},{title:"Airdate",dataIndex:"age",key:"age"},{title:"Trailer",dataIndex:"address",key:"address",render:function e(r){return o.a.createElement("a",{href:r},o.a.createElement(l["d"],{type:"play-circle"}))}}];return o.a.createElement(l["j"],{dataSource:n,columns:a})}},{key:"render",value:function e(){var r=this.props.shows,t=r.shows,n=r.config;var a=t[this.props.queryId];if(a)return o.a.createElement(p["a"],{title:"Ant Design"},o.a.createElement(l["h"],null,o.a.createElement(l["c"],{xs:{span:16,push:8},sm:{span:16,push:8},md:{span:16,push:8},lg:{span:16,push:8}},o.a.createElement("h1",null,a.name),o.a.createElement("div",{style:{marginBottom:20,marginTop:10}},a.genres.map(function(e){return o.a.createElement(b,{key:e},e)})),o.a.createElement("h3",null,a.premiered),o.a.createElement("h3",null,"Rating: ",a.rating.average),o.a.createElement("h3",null,"Language: ",a.language),o.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.summary}}),this.renderEpisodes()),o.a.createElement(l["c"],{xs:{span:6,pull:16},sm:{span:6,pull:16},md:{span:6,pull:16},lg:{span:6,pull:16}},o.a.createElement(l["b"],{hoverable:true,cover:o.a.createElement("img",{alt:"example",src:a.image&&a.image.medium?a.image.medium:"https://placeimg.com/210/295/any"})}))));return this.renderLoader(n)}}],[{key:"getInitialProps",value:function(){var e=v(a.a.mark(function e(r){var t=r.query,n=r.store,i=r.isServer;var o,l,c,p,d;return a.a.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:console.log("getInitialProps DetailsConatiner");o=n.getState();l=o.shows.shows;c=l[t.id];if(c){r.next=8;break}if(o.shows.config.isFetch){r.next=8;break}r.next=8;return n.dispatch(s["e"](t.id));case 8:p=o.episodes.episodes;d=p[t.id];if(d){r.next=13;break}r.next=13;return n.dispatch(u["d"](t.id));case 13:return r.abrupt("return",m({},n.getState(),{queryId:t.id,isServer:i}));case 14:case"end":return r.stop()}},e,this)}));function r(r){return e.apply(this,arguments)}return r}()}]);return r}(i["Component"]);var k=function e(r){return{getOneShow:function e(t){return r(s["e"](t))},getShowEpisodes:function e(t){return r(u["d"](t))}}};var x=function e(r){var t=r.shows,n=r.episodes;return{shows:t,episodes:n}};r["default"]=f()(c["a"],x,k)(w)}},[456]);return{page:e.default}});